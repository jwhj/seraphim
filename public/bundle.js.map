{"version":3,"file":"bundle.js","sources":["../src/post-data.ts","../src/engine/index.ts","../../../AppData/Local/Yarn/Data/global/node_modules/uuid/lib/rng-browser.js","../../../AppData/Local/Yarn/Data/global/node_modules/uuid/lib/bytesToUuid.js","../../../AppData/Local/Yarn/Data/global/node_modules/uuid/v4.js","../src/saves.ts","../src/dialog-utils.ts","../src/game.ts","../src/editor.ts","../src/index.ts"],"sourcesContent":["// type postDataOptions = {\r\n// \tresponseType?: string\r\n// }\r\n// const defaultOptions: postDataOptions = {\r\n// \tresponseType: 'json'\r\n// }\r\nconst postData = async (url: string, data: object) => {\r\n\tconst response = await fetch(url, {\r\n\t\tmethod: 'POST',\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t},\r\n\t\tbody: JSON.stringify(data)\r\n\t})\r\n\treturn response\r\n}\r\npostData.text = async (url: string, data: object) => {\r\n\treturn (await postData(url, data)).text()\r\n}\r\npostData.json = async (url: string, data: object) => {\r\n\treturn (await postData(url, data)).json()\r\n}\r\nexport default postData","import postData from \"../post-data\"\r\nclass State {\r\n\ttext = ''\r\n\tcurText = ''\r\n\tchar: string\r\n\tqid: string\r\n\tqry: string\r\n\topts: string[]\r\n\t_backgroundImage: string\r\n\tbackgroundImageChanged = false\r\n\tget backgroundImage(): string {\r\n\t\treturn this._backgroundImage || '/transparent.png'\r\n\t}\r\n\tset backgroundImage(s: string) {\r\n\t\tthis._backgroundImage = s\r\n\t\tthis.backgroundImageChanged = true\r\n\t}\r\n\tapplyText(s: string) {\r\n\t\tthis.text += this.curText\r\n\t\tthis.curText = s\r\n\t}\r\n}\r\nconst opsType: { [key: string]: number } = {}\r\nconst ops: { [key: string]: (engine: Engine, argv: string[]) => Promise<boolean> } = {}\r\nops['\\\\char'] = async (engine, argv): Promise<boolean> => {\r\n\tif (argv.length > 1) engine.state.char = argv[1]\r\n\telse engine.state.char = undefined\r\n\tawait ops['\\\\clear'](engine, [])\r\n\treturn false\r\n}\r\nops['\\\\background-image'] = async (engine, argv): Promise<boolean> => {\r\n\tengine.state.backgroundImage = argv[1]\r\n\treturn false\r\n}\r\nops['\\\\newline'] = async (engine, argv): Promise<boolean> => {\r\n\tengine.state.curText += '<br/>'\r\n\treturn false\r\n}\r\nops['\\\\clear'] = async (engine, argv): Promise<boolean> => {\r\n\tengine.state.text = engine.state.curText = ''\r\n\treturn Boolean(argv[1])\r\n}\r\nopsType['\\\\text'] = 1\r\nops['\\\\text'] = async (engine, argv): Promise<boolean> => {\r\n\tengine.state.applyText(argv[1])\r\n\treturn true\r\n}\r\nops['\\\\goto'] = async (engine, argv): Promise<boolean> => {\r\n\tawait engine.selectSection(argv[1])\r\n\treturn false\r\n}\r\nops['\\\\query'] = async (engine, argv): Promise<boolean> => {\r\n\tengine.state.qid = argv[1]\r\n\tengine.state.qry = await engine.loadSection(argv[1])\r\n\treturn true\r\n}\r\nops['\\\\options'] = async (engine, argv): Promise<boolean> => {\r\n\tengine.state.qid = argv[1]\r\n\tengine.state.opts = (await engine.loadSection(argv[1])).split('\\n')\r\n\treturn true\r\n}\r\nopsType['\\\\script'] = 1\r\nops['\\\\script'] = async (engine, argv): Promise<boolean> => {\r\n\tvoid (new Function(argv[1])).call(engine)\r\n\treturn false\r\n}\r\nops['\\\\beginscript'] = async (engine, argv): Promise<boolean> => {\r\n\tconst code = []\r\n\tlet line: string\r\n\twhile ((line = engine.nextLine()) !== '\\\\endscript') code.push(line)\r\n\tvoid (new Function(code.join('\\n'))).call(engine)\r\n\treturn false\r\n}\r\nexport default class Engine {\r\n\tgameName: string\r\n\tcnt = 0\r\n\tcnt1 = 0\r\n\tlst: string[] = []\r\n\tlst1: string[] = []\r\n\tans: { [key: string]: any } = {}\r\n\tdata = {}\r\n\tstate: State\r\n\tconstructor(gameName: string) {\r\n\t\tthis.gameName = gameName\r\n\t\tthis.state = new State()\r\n\t}\r\n\tstatic from(obj: { state: object }): Engine {\r\n\t\t// -------------------------------- CAUTION --------------------------------\r\n\t\t// This implementation should be further considered.\r\n\t\tObject.setPrototypeOf(obj, Engine.prototype)\r\n\t\tif (!obj.hasOwnProperty('state')) obj.state = new State()\r\n\t\telse Object.setPrototypeOf(obj.state, State.prototype)\r\n\t\treturn obj as Engine\r\n\t}\r\n\tasync loadSection(sectionName: string): Promise<string> {\r\n\t\t// return (await axios.post('/api/read', {\r\n\t\t// \tgameName: this.gameName,\r\n\t\t// \tsectionName\r\n\t\t// })).data\r\n\t\treturn await postData.text('/api/read', {\r\n\t\t\tgameName: this.gameName,\r\n\t\t\tsectionName\r\n\t\t})\r\n\t}\r\n\tasync selectSection(sectionName: string) {\r\n\t\tthis.lst = (await this.loadSection(sectionName)).split('\\n')\r\n\t\tthis.lst1 = []\r\n\t\tthis.cnt = this.cnt1 = 0\r\n\t}\r\n\taddLine(s: string) {\r\n\t\tthis.lst1.push(s)\r\n\t}\r\n\tnextLine(): string {\r\n\t\tif (this.cnt1 < this.lst1.length) return this.lst1[this.cnt1++]\r\n\t\tif (this.cnt < this.lst.length) return this.lst[this.cnt++]\r\n\t\tthrow 'No more lines.'\r\n\t}\r\n\tasync next() {\r\n\t\tlet flag = false\r\n\t\twhile (!flag) {\r\n\t\t\tconst line = this.nextLine()\r\n\t\t\tif (!line.startsWith('\\\\')) {\r\n\t\t\t\tif (line === '') flag = await ops['\\\\newline'](this, [])\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.state.applyText(line)\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlet lst = line.split(' ')\r\n\t\t\t\tif (lst[0] in ops) {\r\n\t\t\t\t\tif (lst[0] in opsType) {\r\n\t\t\t\t\t\tconst cnt = opsType[lst[0]]\r\n\t\t\t\t\t\tlst = [...lst.slice(0, cnt), lst.slice(cnt).join(' ')]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tflag = await ops[lst[0]](this, lst.filter(Boolean))\r\n\t\t\t\t}\r\n\t\t\t\telse throw `Unexpected token ${lst[0]}`\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","import { defineComponent, reactive, ref, computed } from '@vue/composition-api'\r\nimport uuid from 'uuid/v4'\r\n// @ts-ignore\r\nimport template from '../src/components/saves.html'\r\nexport const loadSavesList = (): string[] => {\r\n\treturn JSON.parse(localStorage.getItem('savesList')) || []\r\n}\r\nexport default defineComponent({\r\n\ttemplate,\r\n\tsetup(props, ctx) {\r\n\t\tconst styles = computed<StylesType>(() => ({\r\n\t\t\tsavesList: {\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\tflexDirection: 'column',\r\n\t\t\t\twidth: '100%',\r\n\t\t\t\talignItems: 'center'\r\n\t\t\t},\r\n\t\t\tsave: {\r\n\t\t\t\twidth: '90%',\r\n\t\t\t\t// height: '12em',\r\n\t\t\t\t// margin: '10px'\r\n\t\t\t}\r\n\t\t}))\r\n\t\tconst savesListRef = ref(loadSavesList())\r\n\t\tconst add = () => {\r\n\t\t\tconst s = uuid()\r\n\t\t\tsavesListRef.value.push(s)\r\n\t\t\tlocalStorage.setItem('savesList', JSON.stringify(savesListRef.value))\r\n\t\t}\r\n\t\tconst del = (name: string) => {\r\n\t\t\tconst lst = savesListRef.value\r\n\t\t\tconst i = lst.indexOf(name)\r\n\t\t\tif (i !== -1) {\r\n\t\t\t\tfor (let j = i; j < lst.length; j++) lst[j] = lst[j + 1]\r\n\t\t\t\tlst.pop()\r\n\t\t\t}\r\n\t\t\tsavesListRef.value = lst\r\n\t\t\tlocalStorage.setItem('savesList', JSON.stringify(savesListRef.value))\r\n\t\t\tctx.emit('del', name)\r\n\t\t}\r\n\t\tconst select = (name: string) => {\r\n\t\t\t// console.log(name)\r\n\t\t\tctx.emit('select', name)\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tstyles,\r\n\t\t\tsavesListRef,\r\n\t\t\tadd,\r\n\t\t\tdel,\r\n\t\t\tselect\r\n\t\t}\r\n\t}\r\n})","import { defineComponent, reactive, ref, watch } from '@vue/composition-api'\r\n// @ts-ignore\r\nimport vPromptTemplate from '../src/components/v-prompt.html'\r\nconst promptState = reactive({\r\n\tlabel: '',\r\n\tshow: false,\r\n\ttext: ''\r\n})\r\nlet resolveText: (text: string) => void\r\nconst vPrompt = defineComponent({\r\n\ttemplate: vPromptTemplate,\r\n\tprops: {\r\n\t\tconfirmLabel: String,\r\n\t\tcancelLabel: String\r\n\t},\r\n\tsetup(props) {\r\n\t\tconst state = promptState\r\n\t\tconst confirm = () => {\r\n\t\t\tresolveText(promptState.text)\r\n\t\t}\r\n\t\tconst cancel = () => {\r\n\t\t\tresolveText(undefined)\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tprops,\r\n\t\t\tstate,\r\n\t\t\tconfirm,\r\n\t\t\tcancel\r\n\t\t}\r\n\t}\r\n})\r\nVue.component('v-prompt', vPrompt)\r\nexport const $prompt = async (label: string): Promise<string> => {\r\n\tpromptState.label = label\r\n\tpromptState.show = true\r\n\tpromptState.text = ''\r\n\tconst text = await new Promise((res: (value: string) => void) => {\r\n\t\tresolveText = res\r\n\t})\r\n\tpromptState.show = false\r\n\treturn text\r\n}\r\n// @ts-ignore\r\nimport vConfirmTemplate from '../src/components/v-confirm.html'\r\nconst confirmState = reactive({\r\n\tlabel: '',\r\n\tshow: false,\r\n\tdefaultFocus: ''\r\n})\r\nlet resolveConfirm: (value: boolean) => void\r\ntype VueButtonType = {\r\n\t$el: HTMLButtonElement\r\n}\r\nconst vConfirm = defineComponent({\r\n\ttemplate: vConfirmTemplate,\r\n\tprops: {\r\n\t\tconfirmLabel: String,\r\n\t\tcancelLabel: String\r\n\t},\r\n\tsetup(props, ctx) {\r\n\t\tconst state = confirmState\r\n\t\tconst confirmRef = ref<VueButtonType>()\r\n\t\tconst cancelRef = ref<VueButtonType>()\r\n\t\tconst confirm = () => {\r\n\t\t\tresolveConfirm(true)\r\n\t\t}\r\n\t\tconst cancel = () => {\r\n\t\t\tresolveConfirm(false)\r\n\t\t}\r\n\t\twatch(() => state.show, value => {\r\n\t\t\tif (value) {\r\n\t\t\t\tctx.root.$nextTick(() => {\r\n\t\t\t\t\tif (state.defaultFocus === 'confirm')\r\n\t\t\t\t\t\tconfirmRef.value.$el.focus()\r\n\t\t\t\t\telse if (state.defaultFocus === 'cancel')\r\n\t\t\t\t\t\tcancelRef.value.$el.focus()\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t\treturn {\r\n\t\t\tprops,\r\n\t\t\tstate,\r\n\t\t\tconfirmRef, cancelRef,\r\n\t\t\tconfirm,\r\n\t\t\tcancel\r\n\t\t}\r\n\t}\r\n})\r\nVue.component('v-confirm', vConfirm)\r\nexport const $confirm = async (label: string, defaultFocus = 'confirm') => {\r\n\tconfirmState.label = label\r\n\tconfirmState.show = true\r\n\tconfirmState.defaultFocus = defaultFocus\r\n\tconst value = await new Promise((res: (value: boolean) => void) => {\r\n\t\tresolveConfirm = res\r\n\t})\r\n\tconfirmState.show = false\r\n\treturn value\r\n}","import { defineComponent, reactive, ref, computed, watch, onUnmounted } from '@vue/composition-api'\r\nimport Typed from 'typed.js'\r\nimport Engine from './engine'\r\n// @ts-ignore\r\nimport template from '../src/components/game.html'\r\n// @ts-ignore\r\nimport backgroundImageTemplate from '../src/components/background-image.html'\r\nconst backgroundImage = defineComponent({\r\n\ttemplate: backgroundImageTemplate,\r\n\tprops: {\r\n\t\tsrc: String\r\n\t},\r\n\tsetup(props) {\r\n\t\tconst styles = computed<StylesType>(() => ({\r\n\t\t\tbackgroundImageDiv: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\tleft: 0,\r\n\t\t\t\ttop: 0,\r\n\t\t\t\twidth: '100%',\r\n\t\t\t\theight: '100%',\r\n\t\t\t\tbackgroundPosition: 'center',\r\n\t\t\t\tbackgroundSize: 'cover'\r\n\t\t\t}\r\n\t\t}))\r\n\t\tconst prevImageStyle = reactive({ backgroundImage: '', ...styles.value.backgroundImageDiv })\r\n\t\tconst curImageStyle = reactive({ backgroundImage: '', ...styles.value.backgroundImageDiv })\r\n\t\tconst flag = ref(true)\r\n\t\twatch(() => props.src, value => {\r\n\t\t\tflag.value = false\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tcurImageStyle.backgroundImage = `url(${value})`\r\n\t\t\t\tflag.value = true\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tprevImageStyle.backgroundImage = curImageStyle.backgroundImage\r\n\t\t\t\t}, 1000)\r\n\t\t\t})\r\n\t\t})\r\n\t\treturn {\r\n\t\t\tstyles,\r\n\t\t\tprevImageStyle,\r\n\t\t\tcurImageStyle,\r\n\t\t\tflag\r\n\t\t}\r\n\t}\r\n})\r\nimport saves from './saves'\r\nimport { $prompt } from './dialog-utils'\r\nexport default defineComponent({\r\n\ttemplate,\r\n\tcomponents: {\r\n\t\t'background-image': backgroundImage,\r\n\t\t'display-saves': saves\r\n\t},\r\n\tsetup(props, ctx) {\r\n\t\tconst styles = computed<StylesType>(() => ({\r\n\t\t\tfrm: {\r\n\t\t\t\twidth: '100%',\r\n\t\t\t\theight: '100%',\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\talignItems: 'flex-end',\r\n\t\t\t\tjustifyContent: 'center'\r\n\t\t\t},\r\n\t\t\tdialogContainer: {\r\n\t\t\t\twidth: '80%',\r\n\t\t\t\theight: '35%',\r\n\t\t\t\tmaxHeight: '13em',\r\n\t\t\t\tpadding: '10px',\r\n\t\t\t},\r\n\t\t\tdialog: {\r\n\t\t\t\twidth: '100%',\r\n\t\t\t\theight: '100%',\r\n\t\t\t\tpadding: '7 20',\r\n\t\t\t\topacity: 0.8,\r\n\t\t\t\tbackgroundColor: state.char ? '#EEE' : '#CCC',\r\n\t\t\t\ttransition: 'background-color 1s ease',\r\n\t\t\t\tuserSelect: 'none'\r\n\t\t\t},\r\n\t\t\tchar: {\r\n\t\t\t\tmarginLeft: '-10px',\r\n\t\t\t\tcolor: '#999',\r\n\t\t\t\twidth: '30%'\r\n\t\t\t},\r\n\t\t\toptsmodal: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\tleft: 0,\r\n\t\t\t\ttop: 0,\r\n\t\t\t\twidth: '100%',\r\n\t\t\t\theight: '100%',\r\n\t\t\t\tbackgroundColor: 'black',\r\n\t\t\t\topacity: 0.7,\r\n\t\t\t\tzIndex: 5,\r\n\t\t\t\tpadding: '10% 10%',\r\n\t\t\t\tcolor: 'white'\r\n\t\t\t}\r\n\t\t}))\r\n\t\tconst state = reactive({\r\n\t\t\ttext: '',\r\n\t\t\tchar: undefined as string,\r\n\t\t\tbackgroundImage: undefined as string,\r\n\t\t\topts: undefined as string[],\r\n\t\t\tshowSaves: false\r\n\t\t})\r\n\t\tlet typed: Typed\r\n\t\tconst finish = () => {\r\n\t\t\tstate.text += engine.state.curText\r\n\t\t\ttyped.destroy()\r\n\t\t\ttyped = undefined\r\n\t\t}\r\n\t\tlet ignoreAction = false\r\n\t\tconst choose = (i: number) => {\r\n\t\t\tignoreAction = false\r\n\t\t\tengine.ans[engine.state.qid] = [i, state.opts[i]]\r\n\t\t\tstate.opts = engine.state.opts = undefined\r\n\t\t\tnext()\r\n\t\t}\r\n\t\tconst updateFromEngine = async () => {\r\n\t\t\tstate.backgroundImage = `/res/${gameName}${engine.state.backgroundImage}`\r\n\t\t\tif (engine.state.qry) {\r\n\t\t\t\tignoreAction = true\r\n\t\t\t\tconst ans = await $prompt(engine.state.qry)\r\n\t\t\t\tengine.ans[engine.state.qid] = ans\r\n\t\t\t\tengine.state.qry = undefined\r\n\t\t\t\tignoreAction = false\r\n\t\t\t\tnext()\r\n\t\t\t\treturn false\r\n\t\t\t} else if (engine.state.opts) {\r\n\t\t\t\tignoreAction = true\r\n\t\t\t\tstate.opts = engine.state.opts\r\n\t\t\t\treturn false\r\n\t\t\t} else {\r\n\t\t\t\tstate.char = engine.state.char\r\n\t\t\t\tstate.text = engine.state.text\r\n\t\t\t\ttyped = new Typed('.type', {\r\n\t\t\t\t\tstrings: [engine.state.curText],\r\n\t\t\t\t\ttypeSpeed: 20,\r\n\t\t\t\t\tonComplete: () => {\r\n\t\t\t\t\t\tfinish()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\treturn true\r\n\t\t}\r\n\t\tconst next = async (): Promise<boolean> => {\r\n\t\t\tif (typed) {\r\n\t\t\t\tfinish()\r\n\t\t\t} else if (!ignoreAction) {\r\n\t\t\t\tignoreAction = true\r\n\t\t\t\tawait engine.next()\r\n\t\t\t\tignoreAction = false\r\n\t\t\t\treturn await updateFromEngine()\r\n\t\t\t}\r\n\t\t\treturn true\r\n\t\t}\r\n\t\tconst fastForward = async (numberOfSteps?: number) => {\r\n\t\t\tnumberOfSteps = numberOfSteps || Infinity\r\n\t\t\tfor (let i = 0; i < numberOfSteps; i++)\r\n\t\t\t\tif (!await next()) break;\r\n\t\t}\r\n\t\tconst loadFromSave = async (save: Engine) => {\r\n\t\t\tengine = save\r\n\t\t\tawait updateFromEngine()\r\n\t\t}\r\n\t\tconst onSelectSave = async (name: string) => {\r\n\t\t\tif (mode === 'save')\r\n\t\t\t\tlocalStorage.setItem(`save_${name}`, JSON.stringify(engine))\r\n\t\t\telse if (mode === 'load')\r\n\t\t\t\tawait loadFromSave(Engine.from(JSON.parse(localStorage.getItem(`save_${name}`))))\r\n\t\t\tstate.showSaves = false\r\n\t\t}\r\n\t\tconst deleteSave = (name: string) => {\r\n\t\t\tlocalStorage.removeItem(`save_${name}`)\r\n\t\t}\r\n\t\tconst handleKeydownEvent = (evt: KeyboardEvent) => {\r\n\t\t\tif (evt.key === ' ') next()\r\n\t\t\tif (evt.key === 's') {\r\n\t\t\t\tmode = 'save'\r\n\t\t\t\tstate.showSaves = true\r\n\t\t\t\tignoreAction = true\r\n\t\t\t}\r\n\t\t\tif (evt.key === 'l') {\r\n\t\t\t\tmode = 'load'\r\n\t\t\t\tstate.showSaves = true\r\n\t\t\t\tignoreAction = true\r\n\t\t\t}\r\n\t\t}\r\n\t\t// @ts-ignore\r\n\t\tconst gameName: string = ctx.root.$route.params.gameName\r\n\t\tlet engine = new Engine(gameName)\r\n\t\tengine.selectSection('start').then(() => next())\r\n\t\tlet mode: string\r\n\t\taddEventListener('keydown', handleKeydownEvent)\r\n\t\tonUnmounted(() => removeEventListener('keydown', handleKeydownEvent))\r\n\t\twatch(() => state.showSaves, (value) => {\r\n\t\t\tif (!value) ignoreAction = false\r\n\t\t})\r\n\t\t// $prompt('blabla')\r\n\t\treturn {\r\n\t\t\tstyles,\r\n\t\t\tstate,\r\n\t\t\tchoose,\r\n\t\t\tnext,\r\n\t\t\tfastForward,\r\n\t\t\tloadFromSave,\r\n\t\t\tonSelectSave,\r\n\t\t\tdeleteSave\r\n\t\t}\r\n\t},\r\n})","import { defineComponent, reactive, ref, computed } from '@vue/composition-api'\r\nimport postData from './post-data'\r\nimport uuid from 'uuid/v4'\r\n// @ts-ignore\r\nimport template from '../src/components/editor.html'\r\nimport { $prompt, $confirm } from './dialog-utils'\r\nexport default defineComponent({\r\n\ttemplate,\r\n\tsetup() {\r\n\t\tconst styles = computed<StylesType>(() => ({\r\n\t\t\tfrm: {\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\tpadding: '10px',\r\n\t\t\t\theight: '100%',\r\n\t\t\t},\r\n\t\t\tsectionList: {\r\n\t\t\t\twidth: '20%'\r\n\t\t\t}\r\n\t\t}))\r\n\t\tconst state = reactive({\r\n\t\t\tgameName: undefined as string,\r\n\t\t\tsectionName: undefined as string,\r\n\t\t\tcontent: undefined as string\r\n\t\t})\r\n\t\tconst editorRef = ref<HTMLTextAreaElement>()\r\n\t\tconst sectionListRef = ref([])\r\n\t\tconst loadSectionList = async (gameName: string) => {\r\n\t\t\tsectionListRef.value = await postData.json('/api/lst', {\r\n\t\t\t\tgameName\r\n\t\t\t})\r\n\t\t}\r\n\t\tconst newSection = async () => {\r\n\t\t\tconst sectionName = (await $prompt('Section name:')) || uuid()\r\n\t\t\tawait postData('/api/write', {\r\n\t\t\t\tgameName: state.gameName,\r\n\t\t\t\tsectionName,\r\n\t\t\t\tcontent: ''\r\n\t\t\t})\r\n\t\t\tawait loadSectionList(state.gameName)\r\n\t\t\tawait loadSection(sectionName)\r\n\t\t}\r\n\t\tconst deleteSection = async (sectionName: string) => {\r\n\t\t\tif (!await $confirm(`Are you sure you want to delete \"${sectionName}\"?`)) return\r\n\t\t\tawait postData('/api/del', {\r\n\t\t\t\tgameName: state.gameName,\r\n\t\t\t\tsectionName\r\n\t\t\t})\r\n\t\t\tawait loadSectionList(state.gameName)\r\n\t\t\tstate.sectionName = undefined\r\n\t\t}\r\n\t\tconst loadSection = async (name: string) => {\r\n\t\t\tstate.sectionName = name\r\n\t\t\tstate.content = await postData.text('/api/read', {\r\n\t\t\t\tgameName: state.gameName,\r\n\t\t\t\tsectionName: name\r\n\t\t\t})\r\n\t\t\teditorRef.value.focus()\r\n\t\t}\r\n\t\tconst updateSection = async () => {\r\n\t\t\tawait postData('/api/write', {\r\n\t\t\t\tgameName: state.gameName,\r\n\t\t\t\tsectionName: state.sectionName,\r\n\t\t\t\tcontent: state.content\r\n\t\t\t})\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tstyles,\r\n\t\t\tstate,\r\n\t\t\tsectionListRef,\r\n\t\t\teditorRef,\r\n\t\t\tloadSectionList,\r\n\t\t\tnewSection,\r\n\t\t\tdeleteSection,\r\n\t\t\tloadSection,\r\n\t\t\tupdateSection\r\n\t\t}\r\n\t}\r\n})","import VueCompositionApi, { defineComponent, computed } from '@vue/composition-api'\r\n// import Vue from 'vue'\r\n// import VueRouter from 'vue-router'\r\nVue.use(VueCompositionApi)\r\nimport game from './game'\r\nimport editor from './editor'\r\nimport saves from './saves'\r\nimport { $prompt } from './dialog-utils'\r\n// @ts-ignore\r\nimport template from '../src/components/index.html'\r\nconst Index = defineComponent({\r\n\ttemplate,\r\n\tsetup(props, ctx) {\r\n\t\tconst styles = computed<StylesType>(() => ({\r\n\t\t\tbar: {\r\n\t\t\t\twidth: '40%',\r\n\t\t\t\tmarginBottom: '10px'\r\n\t\t\t}\r\n\t\t}))\r\n\t\tconst start = async () => {\r\n\t\t\tconst gameName = await $prompt('Game name:')\r\n\t\t\tif (!gameName) return\r\n\t\t\t// @ts-ignore\r\n\t\t\tctx.root.$router.push(`/game/${gameName}`)\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tstyles,\r\n\t\t\tstart\r\n\t\t}\r\n\t}\r\n})\r\nconst router = new VueRouter({\r\n\troutes: [\r\n\t\t{\r\n\t\t\tpath: '/', component: Index\r\n\t\t},\r\n\t\t{ path: '/game/:gameName', component: game },\r\n\t\t{ path: '/editor', component: editor },\r\n\t\t{ path: '/saves', component: saves }\r\n\t]\r\n})\r\n// @ts-ignore\r\nnew Vue(defineComponent({\r\n\tel: '#app',\r\n\trouter,\r\n\tvuetify: new Vuetify()\r\n}))"],"names":["rng","bytesToUuid","defineComponent","template","computed","ref","uuid","reactive","watch","onUnmounted","VueCompositionApi"],"mappings":";;;;;;;;;IAAA;IACA;IACA;IACA;IACA;IACA;IACA,MAAM,QAAQ,GAAG,OAAO,GAAW,EAAE,IAAY;QAChD,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,GAAG,EAAE;YACjC,MAAM,EAAE,MAAM;YACd,OAAO,EAAE;gBACR,cAAc,EAAE,kBAAkB;aAClC;YACD,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;SAC1B,CAAC,CAAA;QACF,OAAO,QAAQ,CAAA;IAChB,CAAC,CAAA;IACD,QAAQ,CAAC,IAAI,GAAG,OAAO,GAAW,EAAE,IAAY;QAC/C,OAAO,CAAC,MAAM,QAAQ,CAAC,GAAG,EAAE,IAAI,CAAC,EAAE,IAAI,EAAE,CAAA;IAC1C,CAAC,CAAA;IACD,QAAQ,CAAC,IAAI,GAAG,OAAO,GAAW,EAAE,IAAY;QAC/C,OAAO,CAAC,MAAM,QAAQ,CAAC,GAAG,EAAE,IAAI,CAAC,EAAE,IAAI,EAAE,CAAA;IAC1C,CAAC;;ICpBD,MAAM,KAAK;QAAX;YACC,SAAI,GAAG,EAAE,CAAA;YACT,YAAO,GAAG,EAAE,CAAA;YAMZ,2BAAsB,GAAG,KAAK,CAAA;SAY9B;QAXA,IAAI,eAAe;YAClB,OAAO,IAAI,CAAC,gBAAgB,IAAI,kBAAkB,CAAA;SAClD;QACD,IAAI,eAAe,CAAC,CAAS;YAC5B,IAAI,CAAC,gBAAgB,GAAG,CAAC,CAAA;YACzB,IAAI,CAAC,sBAAsB,GAAG,IAAI,CAAA;SAClC;QACD,SAAS,CAAC,CAAS;YAClB,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,OAAO,CAAA;YACzB,IAAI,CAAC,OAAO,GAAG,CAAC,CAAA;SAChB;KACD;IACD,MAAM,OAAO,GAA8B,EAAE,CAAA;IAC7C,MAAM,GAAG,GAA4E,EAAE,CAAA;IACvF,GAAG,CAAC,QAAQ,CAAC,GAAG,OAAO,MAAM,EAAE,IAAI;QAClC,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC;YAAE,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAA;;YAC3C,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,SAAS,CAAA;QAClC,MAAM,GAAG,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,CAAA;QAChC,OAAO,KAAK,CAAA;IACb,CAAC,CAAA;IACD,GAAG,CAAC,oBAAoB,CAAC,GAAG,OAAO,MAAM,EAAE,IAAI;QAC9C,MAAM,CAAC,KAAK,CAAC,eAAe,GAAG,IAAI,CAAC,CAAC,CAAC,CAAA;QACtC,OAAO,KAAK,CAAA;IACb,CAAC,CAAA;IACD,GAAG,CAAC,WAAW,CAAC,GAAG,OAAO,MAAM,EAAE,IAAI;QACrC,MAAM,CAAC,KAAK,CAAC,OAAO,IAAI,OAAO,CAAA;QAC/B,OAAO,KAAK,CAAA;IACb,CAAC,CAAA;IACD,GAAG,CAAC,SAAS,CAAC,GAAG,OAAO,MAAM,EAAE,IAAI;QACnC,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG,EAAE,CAAA;QAC7C,OAAO,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAA;IACxB,CAAC,CAAA;IACD,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAA;IACrB,GAAG,CAAC,QAAQ,CAAC,GAAG,OAAO,MAAM,EAAE,IAAI;QAClC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAA;QAC/B,OAAO,IAAI,CAAA;IACZ,CAAC,CAAA;IACD,GAAG,CAAC,QAAQ,CAAC,GAAG,OAAO,MAAM,EAAE,IAAI;QAClC,MAAM,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAA;QACnC,OAAO,KAAK,CAAA;IACb,CAAC,CAAA;IACD,GAAG,CAAC,SAAS,CAAC,GAAG,OAAO,MAAM,EAAE,IAAI;QACnC,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAA;QAC1B,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,MAAM,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAA;QACpD,OAAO,IAAI,CAAA;IACZ,CAAC,CAAA;IACD,GAAG,CAAC,WAAW,CAAC,GAAG,OAAO,MAAM,EAAE,IAAI;QACrC,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAA;QAC1B,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,MAAM,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,CAAA;QACnE,OAAO,IAAI,CAAA;IACZ,CAAC,CAAA;IACD,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAA;IACvB,GAAG,CAAC,UAAU,CAAC,GAAG,OAAO,MAAM,EAAE,IAAI;QACpC,KAAK,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,CAAA;QACzC,OAAO,KAAK,CAAA;IACb,CAAC,CAAA;IACD,GAAG,CAAC,eAAe,CAAC,GAAG,OAAO,MAAM,EAAE,IAAI;QACzC,MAAM,IAAI,GAAG,EAAE,CAAA;QACf,IAAI,IAAY,CAAA;QAChB,OAAO,CAAC,IAAI,GAAG,MAAM,CAAC,QAAQ,EAAE,MAAM,aAAa;YAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;QACpE,KAAK,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,CAAA;QACjD,OAAO,KAAK,CAAA;IACb,CAAC,CAAA;UACoB,MAAM;QAS1B,YAAY,QAAgB;YAP5B,QAAG,GAAG,CAAC,CAAA;YACP,SAAI,GAAG,CAAC,CAAA;YACR,QAAG,GAAa,EAAE,CAAA;YAClB,SAAI,GAAa,EAAE,CAAA;YACnB,QAAG,GAA2B,EAAE,CAAA;YAChC,SAAI,GAAG,EAAE,CAAA;YAGR,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAA;YACxB,IAAI,CAAC,KAAK,GAAG,IAAI,KAAK,EAAE,CAAA;SACxB;QACD,OAAO,IAAI,CAAC,GAAsB;;;YAGjC,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,MAAM,CAAC,SAAS,CAAC,CAAA;YAC5C,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC,OAAO,CAAC;gBAAE,GAAG,CAAC,KAAK,GAAG,IAAI,KAAK,EAAE,CAAA;;gBACpD,MAAM,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,EAAE,KAAK,CAAC,SAAS,CAAC,CAAA;YACtD,OAAO,GAAa,CAAA;SACpB;QACD,MAAM,WAAW,CAAC,WAAmB;;;;;YAKpC,OAAO,MAAM,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE;gBACvC,QAAQ,EAAE,IAAI,CAAC,QAAQ;gBACvB,WAAW;aACX,CAAC,CAAA;SACF;QACD,MAAM,aAAa,CAAC,WAAmB;YACtC,IAAI,CAAC,GAAG,GAAG,CAAC,MAAM,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,CAAA;YAC5D,IAAI,CAAC,IAAI,GAAG,EAAE,CAAA;YACd,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,IAAI,GAAG,CAAC,CAAA;SACxB;QACD,OAAO,CAAC,CAAS;YAChB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;SACjB;QACD,QAAQ;YACP,IAAI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM;gBAAE,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAA;YAC/D,IAAI,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM;gBAAE,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAA;YAC3D,MAAM,gBAAgB,CAAA;SACtB;QACD,MAAM,IAAI;YACT,IAAI,IAAI,GAAG,KAAK,CAAA;YAChB,OAAO,CAAC,IAAI,EAAE;gBACb,MAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAA;gBAC5B,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;oBAC3B,IAAI,IAAI,KAAK,EAAE;wBAAE,IAAI,GAAG,MAAM,GAAG,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,CAAA;yBACnD;wBACJ,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,CAAA;wBAC1B,MAAK;qBACL;iBACD;qBACI;oBACJ,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;oBACzB,IAAI,GAAG,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE;wBAClB,IAAI,GAAG,CAAC,CAAC,CAAC,IAAI,OAAO,EAAE;4BACtB,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAA;4BAC3B,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAA;yBACtD;wBACD,IAAI,GAAG,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAA;qBACnD;;wBACI,MAAM,oBAAoB,GAAG,CAAC,CAAC,CAAC,EAAE,CAAA;iBACvC;aACD;SACD;;;;;;;;;;;;;;;;;;;;;;IC5IF;IACA;IACA;IACA;AACA;IACA;IACA;IACA,IAAI,eAAe,GAAG,CAAC,OAAO,MAAM,CAAC,IAAI,WAAW,IAAI,MAAM,CAAC,eAAe,IAAI,MAAM,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC;IACrH,uBAAuB,OAAO,QAAQ,CAAC,IAAI,WAAW,IAAI,OAAO,MAAM,CAAC,QAAQ,CAAC,eAAe,IAAI,UAAU,IAAI,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;AAC3J;IACA,IAAI,eAAe,EAAE;IACrB;IACA,EAAE,IAAI,KAAK,GAAG,IAAI,UAAU,CAAC,EAAE,CAAC,CAAC;AACjC;IACA,EAAE,cAAc,GAAG,SAAS,SAAS,GAAG;IACxC,IAAI,eAAe,CAAC,KAAK,CAAC,CAAC;IAC3B,IAAI,OAAO,KAAK,CAAC;IACjB,GAAG,CAAC;IACJ,CAAC,MAAM;IACP;IACA;IACA;IACA;IACA,EAAE,IAAI,IAAI,GAAG,IAAI,KAAK,CAAC,EAAE,CAAC,CAAC;AAC3B;IACA,EAAE,cAAc,GAAG,SAAS,OAAO,GAAG;IACtC,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,EAAE;IACpC,MAAM,IAAI,CAAC,CAAC,GAAG,IAAI,MAAM,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,WAAW,CAAC;IAC5D,MAAM,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,IAAI,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC;IAC/C,KAAK;AACL;IACA,IAAI,OAAO,IAAI,CAAC;IAChB,GAAG,CAAC;IACJ;;;ICjCA;IACA;IACA;IACA;IACA,IAAI,SAAS,GAAG,EAAE,CAAC;IACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,EAAE,CAAC,EAAE;IAC9B,EAAE,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,EAAE,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;IACpD,CAAC;AACD;IACA,SAAS,WAAW,CAAC,GAAG,EAAE,MAAM,EAAE;IAClC,EAAE,IAAI,CAAC,GAAG,MAAM,IAAI,CAAC,CAAC;IACtB,EAAE,IAAI,GAAG,GAAG,SAAS,CAAC;IACtB;IACA,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IACvC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG;IAClC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG;IAClC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG;IAClC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG;IAClC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC7B,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;IAC7B,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;IACzC,CAAC;AACD;IACA,iBAAc,GAAG,WAAW;;ICpB5B,SAAS,EAAE,CAAC,OAAO,EAAE,GAAG,EAAE,MAAM,EAAE;IAClC,EAAE,IAAI,CAAC,GAAG,GAAG,IAAI,MAAM,IAAI,CAAC,CAAC;AAC7B;IACA,EAAE,IAAI,OAAO,OAAO,CAAC,IAAI,QAAQ,EAAE;IACnC,IAAI,GAAG,GAAG,OAAO,KAAK,QAAQ,GAAG,IAAI,KAAK,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC;IACtD,IAAI,OAAO,GAAG,IAAI,CAAC;IACnB,GAAG;IACH,EAAE,OAAO,GAAG,OAAO,IAAI,EAAE,CAAC;AAC1B;IACA,EAAE,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,IAAI,CAAC,OAAO,CAAC,GAAG,IAAIA,UAAG,GAAG,CAAC;AACtD;IACA;IACA,EAAE,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,IAAI,IAAI,CAAC;IACpC,EAAE,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,IAAI,IAAI,CAAC;AACpC;IACA;IACA,EAAE,IAAI,GAAG,EAAE;IACX,IAAI,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE;IACpC,MAAM,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;IAC7B,KAAK;IACL,GAAG;AACH;IACA,EAAE,OAAO,GAAG,IAAIC,aAAW,CAAC,IAAI,CAAC,CAAC;IAClC,CAAC;AACD;IACA,QAAc,GAAG,EAAE;;;;ICxBZ,MAAM,aAAa,GAAG;QAC5B,OAAO,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,IAAI,EAAE,CAAA;IAC3D,CAAC,CAAA;AACD,gBAAeC,iCAAe,CAAC;kBAC9BC,UAAQ;QACR,KAAK,CAAC,KAAK,EAAE,GAAG;YACf,MAAM,MAAM,GAAGC,0BAAQ,CAAa,OAAO;gBAC1C,SAAS,EAAE;oBACV,OAAO,EAAE,MAAM;oBACf,aAAa,EAAE,QAAQ;oBACvB,KAAK,EAAE,MAAM;oBACb,UAAU,EAAE,QAAQ;iBACpB;gBACD,IAAI,EAAE;oBACL,KAAK,EAAE,KAAK;iBAGZ;aACD,CAAC,CAAC,CAAA;YACH,MAAM,YAAY,GAAGC,qBAAG,CAAC,aAAa,EAAE,CAAC,CAAA;YACzC,MAAM,GAAG,GAAG;gBACX,MAAM,CAAC,GAAGC,IAAI,EAAE,CAAA;gBAChB,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;gBAC1B,YAAY,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAA;aACrE,CAAA;YACD,MAAM,GAAG,GAAG,CAAC,IAAY;gBACxB,MAAM,GAAG,GAAG,YAAY,CAAC,KAAK,CAAA;gBAC9B,MAAM,CAAC,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,CAAA;gBAC3B,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;oBACb,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE;wBAAE,GAAG,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAA;oBACxD,GAAG,CAAC,GAAG,EAAE,CAAA;iBACT;gBACD,YAAY,CAAC,KAAK,GAAG,GAAG,CAAA;gBACxB,YAAY,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAA;gBACrE,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAA;aACrB,CAAA;YACD,MAAM,MAAM,GAAG,CAAC,IAAY;;gBAE3B,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAA;aACxB,CAAA;YACD,OAAO;gBACN,MAAM;gBACN,YAAY;gBACZ,GAAG;gBACH,GAAG;gBACH,MAAM;aACN,CAAA;SACD;KACD,CAAC;;;;;;ICjDF,MAAM,WAAW,GAAGC,0BAAQ,CAAC;QAC5B,KAAK,EAAE,EAAE;QACT,IAAI,EAAE,KAAK;QACX,IAAI,EAAE,EAAE;KACR,CAAC,CAAA;IACF,IAAI,WAAmC,CAAA;IACvC,MAAM,OAAO,GAAGL,iCAAe,CAAC;QAC/B,QAAQ,EAAE,eAAe;QACzB,KAAK,EAAE;YACN,YAAY,EAAE,MAAM;YACpB,WAAW,EAAE,MAAM;SACnB;QACD,KAAK,CAAC,KAAK;YACV,MAAM,KAAK,GAAG,WAAW,CAAA;YACzB,MAAM,OAAO,GAAG;gBACf,WAAW,CAAC,WAAW,CAAC,IAAI,CAAC,CAAA;aAC7B,CAAA;YACD,MAAM,MAAM,GAAG;gBACd,WAAW,CAAC,SAAS,CAAC,CAAA;aACtB,CAAA;YACD,OAAO;gBACN,KAAK;gBACL,KAAK;gBACL,OAAO;gBACP,MAAM;aACN,CAAA;SACD;KACD,CAAC,CAAA;IACF,GAAG,CAAC,SAAS,CAAC,UAAU,EAAE,OAAO,CAAC,CAAA;IAC3B,MAAM,OAAO,GAAG,OAAO,KAAa;QAC1C,WAAW,CAAC,KAAK,GAAG,KAAK,CAAA;QACzB,WAAW,CAAC,IAAI,GAAG,IAAI,CAAA;QACvB,WAAW,CAAC,IAAI,GAAG,EAAE,CAAA;QACrB,MAAM,IAAI,GAAG,MAAM,IAAI,OAAO,CAAC,CAAC,GAA4B;YAC3D,WAAW,GAAG,GAAG,CAAA;SACjB,CAAC,CAAA;QACF,WAAW,CAAC,IAAI,GAAG,KAAK,CAAA;QACxB,OAAO,IAAI,CAAA;IACZ,CAAC,CAAA;IAGD,MAAM,YAAY,GAAGK,0BAAQ,CAAC;QAC7B,KAAK,EAAE,EAAE;QACT,IAAI,EAAE,KAAK;QACX,YAAY,EAAE,EAAE;KAChB,CAAC,CAAA;IACF,IAAI,cAAwC,CAAA;IAI5C,MAAM,QAAQ,GAAGL,iCAAe,CAAC;QAChC,QAAQ,EAAE,gBAAgB;QAC1B,KAAK,EAAE;YACN,YAAY,EAAE,MAAM;YACpB,WAAW,EAAE,MAAM;SACnB;QACD,KAAK,CAAC,KAAK,EAAE,GAAG;YACf,MAAM,KAAK,GAAG,YAAY,CAAA;YAC1B,MAAM,UAAU,GAAGG,qBAAG,EAAiB,CAAA;YACvC,MAAM,SAAS,GAAGA,qBAAG,EAAiB,CAAA;YACtC,MAAM,OAAO,GAAG;gBACf,cAAc,CAAC,IAAI,CAAC,CAAA;aACpB,CAAA;YACD,MAAM,MAAM,GAAG;gBACd,cAAc,CAAC,KAAK,CAAC,CAAA;aACrB,CAAA;YACDG,uBAAK,CAAC,MAAM,KAAK,CAAC,IAAI,EAAE,KAAK;gBAC5B,IAAI,KAAK,EAAE;oBACV,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC;wBAClB,IAAI,KAAK,CAAC,YAAY,KAAK,SAAS;4BACnC,UAAU,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,EAAE,CAAA;6BACxB,IAAI,KAAK,CAAC,YAAY,KAAK,QAAQ;4BACvC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,EAAE,CAAA;qBAC5B,CAAC,CAAA;iBACF;aACD,CAAC,CAAA;YACF,OAAO;gBACN,KAAK;gBACL,KAAK;gBACL,UAAU,EAAE,SAAS;gBACrB,OAAO;gBACP,MAAM;aACN,CAAA;SACD;KACD,CAAC,CAAA;IACF,GAAG,CAAC,SAAS,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAA;IAC7B,MAAM,QAAQ,GAAG,OAAO,KAAa,EAAE,YAAY,GAAG,SAAS;QACrE,YAAY,CAAC,KAAK,GAAG,KAAK,CAAA;QAC1B,YAAY,CAAC,IAAI,GAAG,IAAI,CAAA;QACxB,YAAY,CAAC,YAAY,GAAG,YAAY,CAAA;QACxC,MAAM,KAAK,GAAG,MAAM,IAAI,OAAO,CAAC,CAAC,GAA6B;YAC7D,cAAc,GAAG,GAAG,CAAA;SACpB,CAAC,CAAA;QACF,YAAY,CAAC,IAAI,GAAG,KAAK,CAAA;QACzB,OAAO,KAAK,CAAA;IACb,CAAC;;IC3FD,MAAM,eAAe,GAAGN,iCAAe,CAAC;QACvC,QAAQ,EAAE,uBAAuB;QACjC,KAAK,EAAE;YACN,GAAG,EAAE,MAAM;SACX;QACD,KAAK,CAAC,KAAK;YACV,MAAM,MAAM,GAAGE,0BAAQ,CAAa,OAAO;gBAC1C,kBAAkB,EAAE;oBACnB,QAAQ,EAAE,OAAO;oBACjB,IAAI,EAAE,CAAC;oBACP,GAAG,EAAE,CAAC;oBACN,KAAK,EAAE,MAAM;oBACb,MAAM,EAAE,MAAM;oBACd,kBAAkB,EAAE,QAAQ;oBAC5B,cAAc,EAAE,OAAO;iBACvB;aACD,CAAC,CAAC,CAAA;YACH,MAAM,cAAc,GAAGG,0BAAQ,iBAAG,eAAe,EAAE,EAAE,IAAK,MAAM,CAAC,KAAK,CAAC,kBAAkB,EAAG,CAAA;YAC5F,MAAM,aAAa,GAAGA,0BAAQ,iBAAG,eAAe,EAAE,EAAE,IAAK,MAAM,CAAC,KAAK,CAAC,kBAAkB,EAAG,CAAA;YAC3F,MAAM,IAAI,GAAGF,qBAAG,CAAC,IAAI,CAAC,CAAA;YACtBG,uBAAK,CAAC,MAAM,KAAK,CAAC,GAAG,EAAE,KAAK;gBAC3B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAA;gBAClB,UAAU,CAAC;oBACV,aAAa,CAAC,eAAe,GAAG,OAAO,KAAK,GAAG,CAAA;oBAC/C,IAAI,CAAC,KAAK,GAAG,IAAI,CAAA;oBACjB,UAAU,CAAC;wBACV,cAAc,CAAC,eAAe,GAAG,aAAa,CAAC,eAAe,CAAA;qBAC9D,EAAE,IAAI,CAAC,CAAA;iBACR,CAAC,CAAA;aACF,CAAC,CAAA;YACF,OAAO;gBACN,MAAM;gBACN,cAAc;gBACd,aAAa;gBACb,IAAI;aACJ,CAAA;SACD;KACD,CAAC,CAAA;AAGF,eAAeN,iCAAe,CAAC;QAC9B,QAAQ;QACR,UAAU,EAAE;YACX,kBAAkB,EAAE,eAAe;YACnC,eAAe,EAAE,KAAK;SACtB;QACD,KAAK,CAAC,KAAK,EAAE,GAAG;YACf,MAAM,MAAM,GAAGE,0BAAQ,CAAa,OAAO;gBAC1C,GAAG,EAAE;oBACJ,KAAK,EAAE,MAAM;oBACb,MAAM,EAAE,MAAM;oBACd,OAAO,EAAE,MAAM;oBACf,UAAU,EAAE,UAAU;oBACtB,cAAc,EAAE,QAAQ;iBACxB;gBACD,eAAe,EAAE;oBAChB,KAAK,EAAE,KAAK;oBACZ,MAAM,EAAE,KAAK;oBACb,SAAS,EAAE,MAAM;oBACjB,OAAO,EAAE,MAAM;iBACf;gBACD,MAAM,EAAE;oBACP,KAAK,EAAE,MAAM;oBACb,MAAM,EAAE,MAAM;oBACd,OAAO,EAAE,MAAM;oBACf,OAAO,EAAE,GAAG;oBACZ,eAAe,EAAE,KAAK,CAAC,IAAI,GAAG,MAAM,GAAG,MAAM;oBAC7C,UAAU,EAAE,0BAA0B;oBACtC,UAAU,EAAE,MAAM;iBAClB;gBACD,IAAI,EAAE;oBACL,UAAU,EAAE,OAAO;oBACnB,KAAK,EAAE,MAAM;oBACb,KAAK,EAAE,KAAK;iBACZ;gBACD,SAAS,EAAE;oBACV,QAAQ,EAAE,OAAO;oBACjB,IAAI,EAAE,CAAC;oBACP,GAAG,EAAE,CAAC;oBACN,KAAK,EAAE,MAAM;oBACb,MAAM,EAAE,MAAM;oBACd,eAAe,EAAE,OAAO;oBACxB,OAAO,EAAE,GAAG;oBACZ,MAAM,EAAE,CAAC;oBACT,OAAO,EAAE,SAAS;oBAClB,KAAK,EAAE,OAAO;iBACd;aACD,CAAC,CAAC,CAAA;YACH,MAAM,KAAK,GAAGG,0BAAQ,CAAC;gBACtB,IAAI,EAAE,EAAE;gBACR,IAAI,EAAE,SAAmB;gBACzB,eAAe,EAAE,SAAmB;gBACpC,IAAI,EAAE,SAAqB;gBAC3B,SAAS,EAAE,KAAK;aAChB,CAAC,CAAA;YACF,IAAI,KAAY,CAAA;YAChB,MAAM,MAAM,GAAG;gBACd,KAAK,CAAC,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,OAAO,CAAA;gBAClC,KAAK,CAAC,OAAO,EAAE,CAAA;gBACf,KAAK,GAAG,SAAS,CAAA;aACjB,CAAA;YACD,IAAI,YAAY,GAAG,KAAK,CAAA;YACxB,MAAM,MAAM,GAAG,CAAC,CAAS;gBACxB,YAAY,GAAG,KAAK,CAAA;gBACpB,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAA;gBACjD,KAAK,CAAC,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,SAAS,CAAA;gBAC1C,IAAI,EAAE,CAAA;aACN,CAAA;YACD,MAAM,gBAAgB,GAAG;gBACxB,KAAK,CAAC,eAAe,GAAG,QAAQ,QAAQ,GAAG,MAAM,CAAC,KAAK,CAAC,eAAe,EAAE,CAAA;gBACzE,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE;oBACrB,YAAY,GAAG,IAAI,CAAA;oBACnB,MAAM,GAAG,GAAG,MAAM,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;oBAC3C,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,GAAG,CAAA;oBAClC,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,SAAS,CAAA;oBAC5B,YAAY,GAAG,KAAK,CAAA;oBACpB,IAAI,EAAE,CAAA;oBACN,OAAO,KAAK,CAAA;iBACZ;qBAAM,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE;oBAC7B,YAAY,GAAG,IAAI,CAAA;oBACnB,KAAK,CAAC,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAA;oBAC9B,OAAO,KAAK,CAAA;iBACZ;qBAAM;oBACN,KAAK,CAAC,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAA;oBAC9B,KAAK,CAAC,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAA;oBAC9B,KAAK,GAAG,IAAI,KAAK,CAAC,OAAO,EAAE;wBAC1B,OAAO,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC;wBAC/B,SAAS,EAAE,EAAE;wBACb,UAAU,EAAE;4BACX,MAAM,EAAE,CAAA;yBACR;qBACD,CAAC,CAAA;iBACF;gBACD,OAAO,IAAI,CAAA;aACX,CAAA;YACD,MAAM,IAAI,GAAG;gBACZ,IAAI,KAAK,EAAE;oBACV,MAAM,EAAE,CAAA;iBACR;qBAAM,IAAI,CAAC,YAAY,EAAE;oBACzB,YAAY,GAAG,IAAI,CAAA;oBACnB,MAAM,MAAM,CAAC,IAAI,EAAE,CAAA;oBACnB,YAAY,GAAG,KAAK,CAAA;oBACpB,OAAO,MAAM,gBAAgB,EAAE,CAAA;iBAC/B;gBACD,OAAO,IAAI,CAAA;aACX,CAAA;YACD,MAAM,WAAW,GAAG,OAAO,aAAsB;gBAChD,aAAa,GAAG,aAAa,IAAI,QAAQ,CAAA;gBACzC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,EAAE,CAAC,EAAE;oBACrC,IAAI,CAAC,MAAM,IAAI,EAAE;wBAAE,MAAM;aAC1B,CAAA;YACD,MAAM,YAAY,GAAG,OAAO,IAAY;gBACvC,MAAM,GAAG,IAAI,CAAA;gBACb,MAAM,gBAAgB,EAAE,CAAA;aACxB,CAAA;YACD,MAAM,YAAY,GAAG,OAAO,IAAY;gBACvC,IAAI,IAAI,KAAK,MAAM;oBAClB,YAAY,CAAC,OAAO,CAAC,QAAQ,IAAI,EAAE,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAA;qBACxD,IAAI,IAAI,KAAK,MAAM;oBACvB,MAAM,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAA;gBAClF,KAAK,CAAC,SAAS,GAAG,KAAK,CAAA;aACvB,CAAA;YACD,MAAM,UAAU,GAAG,CAAC,IAAY;gBAC/B,YAAY,CAAC,UAAU,CAAC,QAAQ,IAAI,EAAE,CAAC,CAAA;aACvC,CAAA;YACD,MAAM,kBAAkB,GAAG,CAAC,GAAkB;gBAC7C,IAAI,GAAG,CAAC,GAAG,KAAK,GAAG;oBAAE,IAAI,EAAE,CAAA;gBAC3B,IAAI,GAAG,CAAC,GAAG,KAAK,GAAG,EAAE;oBACpB,IAAI,GAAG,MAAM,CAAA;oBACb,KAAK,CAAC,SAAS,GAAG,IAAI,CAAA;oBACtB,YAAY,GAAG,IAAI,CAAA;iBACnB;gBACD,IAAI,GAAG,CAAC,GAAG,KAAK,GAAG,EAAE;oBACpB,IAAI,GAAG,MAAM,CAAA;oBACb,KAAK,CAAC,SAAS,GAAG,IAAI,CAAA;oBACtB,YAAY,GAAG,IAAI,CAAA;iBACnB;aACD,CAAA;;YAED,MAAM,QAAQ,GAAW,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAA;YACxD,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,QAAQ,CAAC,CAAA;YACjC,MAAM,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,EAAE,CAAC,CAAA;YAChD,IAAI,IAAY,CAAA;YAChB,gBAAgB,CAAC,SAAS,EAAE,kBAAkB,CAAC,CAAA;YAC/CE,6BAAW,CAAC,MAAM,mBAAmB,CAAC,SAAS,EAAE,kBAAkB,CAAC,CAAC,CAAA;YACrED,uBAAK,CAAC,MAAM,KAAK,CAAC,SAAS,EAAE,CAAC,KAAK;gBAClC,IAAI,CAAC,KAAK;oBAAE,YAAY,GAAG,KAAK,CAAA;aAChC,CAAC,CAAA;;YAEF,OAAO;gBACN,MAAM;gBACN,KAAK;gBACL,MAAM;gBACN,IAAI;gBACJ,WAAW;gBACX,YAAY;gBACZ,YAAY;gBACZ,UAAU;aACV,CAAA;SACD;KACD,CAAC;;;;ACzMF,iBAAeN,iCAAe,CAAC;kBAC9BC,UAAQ;QACR,KAAK;YACJ,MAAM,MAAM,GAAGC,0BAAQ,CAAa,OAAO;gBAC1C,GAAG,EAAE;oBACJ,OAAO,EAAE,MAAM;oBACf,OAAO,EAAE,MAAM;oBACf,MAAM,EAAE,MAAM;iBACd;gBACD,WAAW,EAAE;oBACZ,KAAK,EAAE,KAAK;iBACZ;aACD,CAAC,CAAC,CAAA;YACH,MAAM,KAAK,GAAGG,0BAAQ,CAAC;gBACtB,QAAQ,EAAE,SAAmB;gBAC7B,WAAW,EAAE,SAAmB;gBAChC,OAAO,EAAE,SAAmB;aAC5B,CAAC,CAAA;YACF,MAAM,SAAS,GAAGF,qBAAG,EAAuB,CAAA;YAC5C,MAAM,cAAc,GAAGA,qBAAG,CAAC,EAAE,CAAC,CAAA;YAC9B,MAAM,eAAe,GAAG,OAAO,QAAgB;gBAC9C,cAAc,CAAC,KAAK,GAAG,MAAM,QAAQ,CAAC,IAAI,CAAC,UAAU,EAAE;oBACtD,QAAQ;iBACR,CAAC,CAAA;aACF,CAAA;YACD,MAAM,UAAU,GAAG;gBAClB,MAAM,WAAW,GAAG,CAAC,MAAM,OAAO,CAAC,eAAe,CAAC,KAAKC,IAAI,EAAE,CAAA;gBAC9D,MAAM,QAAQ,CAAC,YAAY,EAAE;oBAC5B,QAAQ,EAAE,KAAK,CAAC,QAAQ;oBACxB,WAAW;oBACX,OAAO,EAAE,EAAE;iBACX,CAAC,CAAA;gBACF,MAAM,eAAe,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAA;gBACrC,MAAM,WAAW,CAAC,WAAW,CAAC,CAAA;aAC9B,CAAA;YACD,MAAM,aAAa,GAAG,OAAO,WAAmB;gBAC/C,IAAI,CAAC,MAAM,QAAQ,CAAC,oCAAoC,WAAW,IAAI,CAAC;oBAAE,OAAM;gBAChF,MAAM,QAAQ,CAAC,UAAU,EAAE;oBAC1B,QAAQ,EAAE,KAAK,CAAC,QAAQ;oBACxB,WAAW;iBACX,CAAC,CAAA;gBACF,MAAM,eAAe,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAA;gBACrC,KAAK,CAAC,WAAW,GAAG,SAAS,CAAA;aAC7B,CAAA;YACD,MAAM,WAAW,GAAG,OAAO,IAAY;gBACtC,KAAK,CAAC,WAAW,GAAG,IAAI,CAAA;gBACxB,KAAK,CAAC,OAAO,GAAG,MAAM,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE;oBAChD,QAAQ,EAAE,KAAK,CAAC,QAAQ;oBACxB,WAAW,EAAE,IAAI;iBACjB,CAAC,CAAA;gBACF,SAAS,CAAC,KAAK,CAAC,KAAK,EAAE,CAAA;aACvB,CAAA;YACD,MAAM,aAAa,GAAG;gBACrB,MAAM,QAAQ,CAAC,YAAY,EAAE;oBAC5B,QAAQ,EAAE,KAAK,CAAC,QAAQ;oBACxB,WAAW,EAAE,KAAK,CAAC,WAAW;oBAC9B,OAAO,EAAE,KAAK,CAAC,OAAO;iBACtB,CAAC,CAAA;aACF,CAAA;YACD,OAAO;gBACN,MAAM;gBACN,KAAK;gBACL,cAAc;gBACd,SAAS;gBACT,eAAe;gBACf,UAAU;gBACV,aAAa;gBACb,WAAW;gBACX,aAAa;aACb,CAAA;SACD;KACD,CAAC;;;;IC5EF;IACA;IACA,GAAG,CAAC,GAAG,CAACI,0BAAiB,CAAC,CAAA;IAO1B,MAAM,KAAK,GAAGR,iCAAe,CAAC;kBAC7BC,UAAQ;QACR,KAAK,CAAC,KAAK,EAAE,GAAG;YACf,MAAM,MAAM,GAAGC,0BAAQ,CAAa,OAAO;gBAC1C,GAAG,EAAE;oBACJ,KAAK,EAAE,KAAK;oBACZ,YAAY,EAAE,MAAM;iBACpB;aACD,CAAC,CAAC,CAAA;YACH,MAAM,KAAK,GAAG;gBACb,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC,YAAY,CAAC,CAAA;gBAC5C,IAAI,CAAC,QAAQ;oBAAE,OAAM;;gBAErB,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,QAAQ,EAAE,CAAC,CAAA;aAC1C,CAAA;YACD,OAAO;gBACN,MAAM;gBACN,KAAK;aACL,CAAA;SACD;KACD,CAAC,CAAA;IACF,MAAM,MAAM,GAAG,IAAI,SAAS,CAAC;QAC5B,MAAM,EAAE;YACP;gBACC,IAAI,EAAE,GAAG,EAAE,SAAS,EAAE,KAAK;aAC3B;YACD,EAAE,IAAI,EAAE,iBAAiB,EAAE,SAAS,EAAE,IAAI,EAAE;YAC5C,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,MAAM,EAAE;YACtC,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,KAAK,EAAE;SACpC;KACD,CAAC,CAAA;IACF;IACA,IAAI,GAAG,CAACF,iCAAe,CAAC;QACvB,EAAE,EAAE,MAAM;QACV,MAAM;QACN,OAAO,EAAE,IAAI,OAAO,EAAE;KACtB,CAAC,CAAC;;;;"}